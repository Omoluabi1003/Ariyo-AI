<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <meta name="theme-color" content="#ff758c" />
  <title>√Är√≠y√≤ AI - Smart Naija AI</title>

  <link rel="manifest" href="/manifest.json"> <!-- In /public, served from root -->

  <!-- PWA Icons (paths relative to root, served from /public/icons/) -->
  <link rel="icon" type="image/png" sizes="180x180" href="/icons/Ariyo-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/Ariyo.png">
  <link rel="icon" type="image/png" sizes="512x512" href="/icons/Ariyo_AI.png">
  <link rel="apple-touch-icon" href="/icons/Ariyo-180x180.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/Ariyo-180x180.png">
  <link rel="apple-touch-icon" sizes="167x167" href="/icons/Ariyo-180x180.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/Ariyo-180x180.png">

  <!-- Fonts & Icons CDN - Vite will handle these if we decide to bundle them later -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&family=Montserrat:wght@400;700&display=swap" rel="stylesheet" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/js/all.min.js" defer></script>

  <!-- Animations & Chat CDN -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js" defer></script>
  <script async type="module" src="https://interfaces.zapier.com/assets/web-components/zapier-interfaces/zapier-interfaces.esm.js"></script>

  <link rel="stylesheet" href="/src/style.css"> <!-- Link to external CSS -->
</head>

<body>
  <header class="header">
    Welcome to √Är√≠y√≤ AI
    <button class="share-button" aria-label="Share this page" onclick="window.shareContent()">
      <i class="fas fa-share-alt"></i>
    </button>
  </header>

  <div class="container">
    <aside class="sidebar">
      <nav aria-label="Main navigation">
        <button onclick="window.openAlbumList()">üéß Choose An Album</button>
        <button onclick="window.openRadioList()">üìª Radio Stations</button>
        <button onclick="window.navigateToAbout()">‚ÑπÔ∏è About Us</button>
      </nav>
    </aside>
    <main class="content" id="main-content">
      <h2>Select an option from the sidebar</h2>
      <div id="newsContainer" class="news-container" style="display: none;"></div>
    </main>
  </div>

  <!-- Music Player -->
  <section class="music-player" aria-labelledby="musicPlayerHeading">
    <h3 id="musicPlayerHeading" class="visually-hidden">Music Player</h3> <!-- Hidden heading for screen readers -->
    <img
      id="albumCover"
      class="album-cover"
      src="https://raw.githubusercontent.com/Omoluabi1003/Ariyo-AI/main/Kindness%20Cover%20Art.jpg"
      alt="Album Cover"
    />
    <div id="loadingSpinner" class="loading-spinner"></div>
    <div id="progressBar" class="progress-bar"><div></div></div>
    <p class="track-info" id="trackInfo">A Very Good Bad Guy v3</p>
    <p class="track-details" id="trackArtist">Artist: Omoluabi</p>
    <p class="track-details" id="trackYear">Release Year: 2025</p>
    <p class="track-details" id="trackAlbum"></p>
    <p class="track-duration" id="trackDuration">0:00 / 0:00</p>
    <p id="streakInfo" class="track-details">üî• Current Streak: 0 days</p>
    <p id="shuffleStatusInfo" class="track-details" style="font-style: italic;"></p>
    <input
      type="range"
      id="seekBar"
      value="0"
      min="0"
      max="100"
      step="1"
      style="width: 90%; margin-top: 10px;"
      aria-label="Seek bar for audio playback"
    />
    <button id="retryButton" class="retry-button" onclick="window.retryTrack()">Retry</button>
    <button id="cacheButton" class="retry-button" onclick="window.cacheTrackForOfflineGlobal()">Download for Offline</button>
    <div class="dropdown" role="button" aria-label="Choose a track" onclick="window.openTrackList()">üéµ Choose A Track</div>
    <div class="music-controls icons-only">
      <button aria-label="Previous track" onclick="window.previousTrack()">‚èÆ</button>
      <button aria-label="Play" onclick="window.playMusic()">‚ñ∂</button>
      <button aria-label="Pause" onclick="window.pauseMusic()">‚è∏</button>
      <button aria-label="Stop" onclick="window.stopMusic()">‚èπ</button>
      <button aria-label="Next track" onclick="window.nextTrack()">‚è≠</button>
      <button aria-label="Toggle shuffle" onclick="window.toggleShuffle()">üîÄ</button>
    </div>
  </div>

  <!-- Modal for Album List -->
  <div id="albumModal" class="modal" role="dialog" aria-labelledby="albumModalTitle" aria-modal="true">
    <div class="modal-content">
      <span class="close" role="button" tabindex="0" aria-label="Close album list" onclick="window.closeAlbumList()" onkeydown="if(event.key === 'Enter' || event.key === ' ') { window.closeAlbumList(); event.preventDefault(); }">√ó</span>
      <h3 id="albumModalTitle">Choose An Album</h3>
      <div class="album-list">
        <!-- Dynamically populated by JS -->
      </div>
    </div>
  </div>

  <!-- Modal for Track List -->
  <div id="trackModal" class="modal" role="dialog" aria-labelledby="trackModalTitle" aria-modal="true">
    <div class="modal-content">
      <span class="close" role="button" tabindex="0" aria-label="Close track list" onclick="window.closeTrackList()" onkeydown="if(event.key === 'Enter' || event.key === ' ') { window.closeTrackList(); event.preventDefault(); }">√ó</span>
      <h3 id="trackModalTitle">Choose A Track</h3>
      <div class="track-list">
        <!-- Dynamically populated by JS -->
      </div>
    </div>
  </div>

  <!-- Modal for Radio Stations -->
<div id="radioModal" class="modal" role="dialog" aria-labelledby="radioModalTitle" aria-modal="true">
    <div class="modal-content">
    <span class="close" role="button" tabindex="0" aria-label="Close radio list" onclick="window.closeRadioList()" onkeydown="if(event.key === 'Enter' || event.key === ' ') { window.closeRadioList(); event.preventDefault(); }">√ó</span>
      <h4>Nigeria</h4>
      <div id="nigeria-stations" class="radio-list"></div>
      <button onclick="window.loadMoreStations('nigeria')" style="margin: 1rem 0;">Load More Nigerian Stations</button>
      <h4>West Africa</h4>
      <div id="westAfrica-stations" class="radio-list"></div>
      <button onclick="window.loadMoreStations('westAfrica')" style="margin: 1rem 0;">Load More West African Stations</button>
      <h4>International</h4>
      <div id="international-stations" class="radio-list"></div>
      <button onclick="window.loadMoreStations('international')" style="margin: 1rem 0;">Load More International Stations</button>
    </div>
  </div>

  <!-- Chatbot Floating Icon & Comic Bubble -->
<div class="chatbot-bubble-container" role="button" aria-label="Open Chatbot" onclick="window.toggleChatbot()" aria-expanded="false" aria-controls="chatbotContainer">
    <img src="https://raw.githubusercontent.com/Omoluabi1003/Ariyo-AI/main/chatbot.png" alt="Chatbot Icon" class="chatbot-float-icon" />
    <div class="chatbot-speech-bubble" id="chatbotBubble">How far?</div>
  </div>

  <!-- Chatbot Container -->
<div class="chatbot-container" id="chatbotContainer" style="display: none;">
  <button class="popup-close" aria-label="Close Chatbot" onclick="window.toggleChatbot()">√ó</button>
    <zapier-interfaces-chatbot-embed
      is-popup="false"
      chatbot-id="cm7s2oyu2000b3vmuwcwkj9kn"
      height="100%"
      width="100%"
      title="√Är√≠y√≤ AI Chatbot"
      src="https://interfaces.zapier.com/embed/cm7s2oyu2000b3vmuwcwkj9kn?region=US&language=en-US&timezone=America/New_York">
    </zapier-interfaces-chatbot-embed>
  </div>

  <!-- Sabi Bible Floating Icon & Comic Bubble -->
<div class="sabi-bible-bubble-container" role="button" aria-label="Open Sabi Bible" onclick="window.toggleSabiBible()" aria-expanded="false" aria-controls="sabiBibleContainer">
    <img src="https://raw.githubusercontent.com/Omoluabi1003/Ariyo-AI/main/Sabi%20Bible.png" alt="Sabi Bible Icon" class="sabi-bible-float-icon" />
    <div class="sabi-bible-speech-bubble" id="sabiBibleBubble">Sabi Bible dey here!</div>
  </div>

  <!-- Sabi Bible Container -->
<div class="sabi-bible-container" id="sabiBibleContainer" style="display: none;">
  <button class="popup-close" aria-label="Close Sabi Bible" onclick="window.toggleSabiBible()">√ó</button>
    <zapier-interfaces-chatbot-embed
      is-popup="false"
      chatbot-id="cm7ve7fdl002jlclh8y1n6n1y"
      height="100%"
      width="100%"
      title="Sabi Bible Chatbot"
      src="https://interfaces.zapier.com/embed/cm7ve7fdl002jlclh8y1n6n1y?region=US&language=en-US&timezone=America/New_York">
    </zapier-interfaces-chatbot-embed>
  </div>

  <!-- Floating Watermarks -->
  <div class="floating-watermarks">
    <div class="watermark drift1" style="top: 10%; left: 5%;">Omoluabi Productions</div>
    <div class="watermark drift2" style="top: 25%; left: 20%;">Omoluabi Productions</div>
    <div class="watermark drift3" style="top: 40%; left: 10%;">Omoluabi Productions</div>
    <div class="watermark drift4" style="top: 55%; left: 30%;">Omoluabi Productions</div>
    <div class="watermark drift1" style="top: 70%; left: 15%;">Omoluabi Productions</div>
    <div class="watermark drift2" style="top: 85%; left: 25%;">Omoluabi Productions</div>
    <div class="watermark drift3" style="top: 20%; left: 50%;">Omoluabi Productions</div>
    <div class="watermark drift4" style="top: 65%; left: 60%;">Omoluabi Productions</div>
    <div class="watermark drift1" style="top: 30%; left: 70%;">Omoluabi Productions</div>
    <div class="watermark drift2" style="top: 50%; left: 80%;">Omoluabi Productions</div>
    <div class="watermark drift3" style="top: 15%; left: 85%;">Omoluabi Productions</div>
    <div class="watermark drift4" style="top: 75%; left: 5%;">Omoluabi Productions</div>
  </div>

  <!-- üéß Now Playing Toast -->
<div id="nowPlayingToast" role="status" aria-live="polite" style="
    position: fixed;
    bottom: 90px;
    left: 50%;
    transform: translateX(-50%);
    background: rgba(0,0,0,0.85);
    color: white;
    padding: 0.8rem 1.5rem;
    border-radius: 25px;
    font-size: 0.95rem;
    box-shadow: 0 4px 10px rgba(0,0,0,0.5);
    display: none;
    z-index: 9999;
    transition: all 0.4s ease;
  ">Now playing</div>

  <script type="module" src="/src/main.js"></script>
</body>
</html>
